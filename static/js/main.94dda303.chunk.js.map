{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","pictureName","handlePictureChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","React","Component","Button","loadMore","onClick","ImageGalleryItem","id","webformatURL","tags","largeImageURL","saveSrcImgModal","src","alt","ImageGalleryItemImage","Loader","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","ImageGallery","pictures","status","page","showModal","nextPage","fetch","then","respone","json","prevState","hits","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","length","map","picture","App","searchBarSubmit","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.94dda303.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2N5r1\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__MPNiZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2G6sn\",\"Modal\":\"Modal_Modal__DZLtx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3rIQF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3iDwp\"};","import React from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends React.Component {\n  state = {\n    pictureName: \"\",\n  };\n\n  handlePictureChange = (event) => {\n    this.setState({ pictureName: event.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.pictureName.trim() === \"\") {\n      toast.error(\"Введите название картинки\");\n      return;\n    }\n    this.props.onSubmit(this.state.pictureName);\n    this.setState({ pictureName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"pictureName\"\n            value={this.state.pictureName}\n            onChange={this.handlePictureChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport s from \"./Button.module.css\";\n\nexport default function Button({ loadMore }) {\n  return (\n    <button className={s.Button} onClick={loadMore}>\n      Load more\n    </button>\n  );\n}\n","import React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  saveSrcImgModal,\n}) => {\n  return (\n    <li key={id} className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={() => {\n          saveSrcImgModal({ largeImageURL, tags });\n        }}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  saveSrcImgModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import LoaderSpiner from \"react-loader-spinner\";\n\nexport default function Loader({ pictureName }) {\n  return (\n    <div>\n      <LoaderSpiner\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n      Ищем {pictureName}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          {this.props.children}\n          <img src={this.props.src} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React from \"react\";\nimport Button from \"../Button/Button\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Loader from \"../Loader/Loader\";\nimport s from \"./ImageGallery.module.css\";\nimport Modal from \"../Modal/Modal\";\nimport PropTypes from \"prop-types\";\n\nclass ImageGallery extends React.Component {\n  state = {\n    pictures: null,\n    status: \"idle\",\n    page: 1,\n    showModal: false,\n    largeImageURL: null,\n    tags: null,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevProps.pictureName !== this.props.pictureName) {\n      await this.setState({ status: \"pending\", page: 1 });\n      const key = \"19324940-21d8938b8dfbc074399017655\";\n\n      fetch(\n        `https://pixabay.com/api/?q=${this.props.pictureName}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n        .then((respone) => respone.json())\n        .then((pictures) => {\n          if (pictures.hits.length === 0) {\n            this.setState({ status: \"rejected\" });\n            return;\n          }\n          this.setState({\n            pictures: [...pictures.hits],\n            status: \"resolved\",\n            page: this.state.page + 1,\n          });\n        });\n    }\n  }\n\n  nextPage = () => {\n    const key = \"19324940-21d8938b8dfbc074399017655\";\n\n    fetch(\n      `https://pixabay.com/api/?q=${this.props.pictureName}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((respone) => respone.json())\n      .then((pictures) => {\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...pictures.hits],\n          page: this.state.page + 1,\n        }));\n        if (this.state.page !== 1) {\n          this.scrollTo();\n        }\n      });\n  };\n\n  scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  saveSrcImgModal = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n  };\n\n  render() {\n    const { pictures, status } = this.state;\n    const { pictureName } = this.props;\n\n    if (status === \"idle\") {\n      return (\n        <div className={s.ImageGallery}>Введите имя картинки для поиска</div>\n      );\n    }\n\n    if (status === \"pending\") {\n      return <Loader className={s.ImageGallery} pictureName={pictureName} />;\n    }\n\n    if (status === \"rejected\") {\n      return (\n        <div className={s.ImageGallery}>\n          Картитинки с именем {pictureName} не существует\n        </div>\n      );\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <>\n          <ul onClick={this.toggleModal} className={s.ImageGallery}>\n            {pictures.map((picture) => (\n              <ImageGalleryItem\n                id={picture.id}\n                webformatURL={picture.webformatURL}\n                tags={picture.tags}\n                largeImageURL={picture.largeImageURL}\n                saveSrcImgModal={this.saveSrcImgModal}\n              />\n            ))}\n          </ul>\n          <Button loadMore={this.nextPage} />\n          {this.state.showModal && (\n            <Modal\n              onClose={this.toggleModal}\n              src={this.state.largeImageURL}\n              alt={this.state.tags}\n            ></Modal>\n          )}\n        </>\n      );\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport s from \"./App.module.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\nclass App extends React.Component {\n  state = {\n    pictureName: \"\",\n  };\n\n  searchBarSubmit = (pictureName) => {\n    this.setState({ pictureName });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.searchBarSubmit} />\n\n        <ImageGallery pictureName={this.state.pictureName} />\n\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__317oB\",\"SearchForm\":\"Searchbar_SearchForm__3evkJ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3Bv30\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__CQqBi\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1b6Po\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2f9gm\"};"],"sourceRoot":""}